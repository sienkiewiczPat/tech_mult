<html>

<head>
    <meta charset="utf-8">
    <title>Ä†wiczenie 2 Zadanie 6</title>
</head>

<body>
    <canvas id="canvas" width="1200" height="630" style="border:1px solid #00bcd4"></canvas>

    <script type="text/javascript">
        var ctx = document.getElementById("canvas").getContext("2d");
        canvas = document.createElement("canvas");
        img = new Image();
        imgWidth = 0;
        imgHeight = 0;
        canvasWidth = 1200;
        canvasHeight = 630;
        currentPosition = 0;
        speed = 2;

        img.src = "lake.jpg";
        img.onload = loadImage;

        function loadImage() {
            imgWidth = img.width;
            imgHeight = img.height;
            canvas.width = imgWidth;
            canvas.height = imgHeight;
            render();
        }

        function render() {
            ctx.clearRect(0, 0, canvasWidth, canvasHeight);

            if (currentPosition >= canvasWidth) {
                console.log(currentPosition);
                currentPosition = 0;
            }

            currentPosition += speed;
            ctx.drawImage(img, canvasWidth - currentPosition, 0, currentPosition, imgHeight, 0, 0, currentPosition, imgHeight);
            ctx.drawImage(img, currentPosition, 0, imgWidth, imgHeight);
            setTimeout(function () { render(); }, 10);
        }
    </script>
</body>

</html>